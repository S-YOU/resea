#include "asm.h"
#include "pic.h"

void x64_init_pic(void) {
    // Disable PIC. We use IOAPIC instead.
    asm_outb(0xa1, 0xff);
    asm_outb(0x21, 0xff);

    asm_outb(0x20, 0x11);
    asm_outb(0xa0, 0x11);
    asm_outb(0x21, 0x20);
    asm_outb(0xa1, 0x28);
    asm_outb(0x21, 0x04);
    asm_outb(0xa1, 0x02);
    asm_outb(0x21, 0x01);
    asm_outb(0xa1, 0x01);

    asm_outb(0xa1, 0xff);
    asm_outb(0x21, 0xff);
}
